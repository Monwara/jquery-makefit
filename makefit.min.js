/**
 * jQuery library for generic geometry calculations
 *
 * @author Monwara LLC / Branko Vukelic <branko@herdhound.com>
 * @version 0.0.1
 * @license MIT
 */(function(a,b){typeof define=="function"&&define.amd?define(["jquery"],b):b(a.jQuery)})(this,function(a){a.fn.desiredPosition=function(b,c,d){$this=a(this),$parent=$this.offsetParent();var e=b,f=c,g=$this.outerWidth(),h=$this.outerHeight(),i=g+b,j=h+c;pX=0,pY=0,pX1=$parent.width(),pY1=$parent.height();var k=!1,l=!1,m=!1,n=!1,o=g>pX1,p=h>pY1;e<0&&(k=!0),i>pX1&&(l=!0),f<0&&(m=!0),j>pY1&&(n=!0);var q={position:"absolute"};return o&&(q.left=d?0:(wW-g)/2,q.right=d?0:wW,d&&(q.width="auto")),k&&!l&&d&&(q.left=e,q.right="auto",q.width="auto"),!k&&l&&d&&(q.left="auto",q.right=pX1-i,q.width="auto"),p&&(q.top=d?0:(pH-j)/2,q.bottom=d?0:"auto",d&&(q.height="auto")),!m&&n&&d&&(q.bottom=0,q.top=f,q.height="auto"),m&&!n&&d&&(q.top=0,q.bottom=j,q.height="auto"),$this.css(q),$this},a.fn.relativeTo=function(b,c,d){var e=a(this),f=a(b),g=a(window);e.css("position","absolute"),c=typeof c=="undefined"?!1:c,d=typeof d=="undefined"?!1:d;var h=f.offset().left,i=f.offset().top,j=f.outerWidth(),k=f.outerHeight(),l=e.outerWidth(),m=e.outerHeight(),n=g.width(),o=g.height();return c!==!0&&typeof c!="number"?h+l<=n?e.css({position:"absolute",left:h}):h+j-l>=0?e.css({position:"absolute",left:n-h-j}):e.css({position:"absolute",left:n-l}):typeof c=="number"&&e.css({position:"absolute",left:c}),d!==!0&&typeof d!="number"?i+k+m<=o?e.css({position:"absolute",top:i+k}):i+k-m>=0?e.css({position:"absolute",top:i-m}):e.css({position:"absolute",top:o-m}):typeof d=="number"&&e.css({position:"absolute",top:d}),e},a.fn.containsCursor=function(b,c){function d(a,b,c){return b<=a&&a<=c}var e=a(this),f=e.offset().left,g=e.offset().top,h=f+e.outerWidth(),i=g+e.outerHeight();return d(b,f,h)&&d(c,g,i)},a.fn.drag=function(b){var c={clickTimeout:200};return b=a.extend({},c,b),a(this).each(function(c,d){function f(c,d,f,g,h,i,j,k){a(window).off("mousemove.drag");if(!b.dropTarget&&typeof b.stop=="function")return b.stop.call(e,c,d,h,i);var l=!1;a(b.dropTarget).each(function(m,n){a(n).contains(j,k)&&typeof b.drop=="function"&&(b.drop.call(e,a(n),c,d,f,g,h,i),l=!0)}),l===!1&&typeof b.failed=="function"&&b.drop.call(e,null,d,h,f,g,i)}function g(c,d,g,h,i,j){var k=0,l=0;a(window).on("mousemove.drag",function(m){k=m.pageX-i,l=m.pageY-j;var n=!0;typeof b.drag=="function"&&(n=b.drag.call(e,c,d,g,h,k,l,m.pageX,m.pageY)),n===!1&&(a(window).off("mouseup.drag"),f(c,d,g,h,k,l,m))}),a(window).one("mouseup.drag",function(b){a(window).off("mousemove.drag"),k=b.pageX-i,l=b.pageY-j,f(c,d,g,h,k,l,b)})}function h(a){a.stopPropagation(),a.preventDefault();var c=e.offset().left,d=e.offset().top,f=e.position().left,h=e.position().top,i=a.pageX,j=a.pageY,k=!0;typeof b.start=="function"&&(k=b.start.call(e,c,d,f,h,i,j)),k!==!1&&g(c,d,f,h,i,j)}var e=a(d);e.on("mousedown",function(a){var c=setTimeout(function(){h(a)},b.clickTimeout);e.mouseup(function(a){c&&clearTimeout(c)})})}),a(this)}});